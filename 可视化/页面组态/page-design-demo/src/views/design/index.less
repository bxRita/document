/*
 * FilePath: \src\views\design\index.less
 * Project: page-design-demo
 * CreatedAt: 2021-04-08 09:38:11
 * CreatedBy: ABC (<you@you.you>)
 * Copyright: (c) 2021
 * Task: #1
 * Write a description of the code here.
 */
// 表单设计器样式
@primary-color: '#1890ff';
@layout-color: '#9867f7';

@primary-background-color: fade(@primary-color, 6%);
@primary-hover-bg-color: fade(@primary-color, 20%);
@layout-background-color: fade(@layout-color, 12%);
@layout-hover-bg-color: fade(@layout-color, 24%);

@title-text-color: #fff;
@border-color: #ccc;

@left-right-width: 270px;
@header-height: 56px;
@operating-area-height: 45px;
// 表单设计器-表格样式
.custom-table {
  width: 100%;
  box-sizing: border-box;
  transition: all 0.3s;
  border-collapse: collapse;

  tr {
    transition: all 0.3s;
    border-collapse: collapse;
    td {
      box-sizing: border-box;
      transition: all 0.3s;
      padding: 12px 12px;
      border-collapse: collapse;
      vertical-align: top;
    }
  }
  &.bordered {
    // 添加边框
    tr {
      td {
        border: 1px solid #e8e8e8 !important;
      }
    }
  }
  &.bright {
    // 点亮行
    tr {
      &:hover > td {
        background: #e6f7ff;
      }
    }
  }
  &.small {
    // 紧凑型
    tr {
      td {
        padding: 8px 8px;
      }
    }
  }
  .ant-row.ant-form-item {
    margin: 0 !important;
  }
}
.right {
  height: 100%;
  .ant-layout-sider-children {
    max-height: 933px;
  }
  .attributs-setting {
    .ant-form {
      .ant-form-item {
        margin-bottom: 5px;
        .ant-form-item-control {
          text-align: left;
        }
      }
      .attributs-setting__title {
        text-align: left;
        display: inline-block;
        width: 100%;
        border-bottom: 2px solid @primary-color;
        font-size: 12px;
        font-weight: 900;
        margin-bottom: 10px;
      }
    }
  }
}
.left {
  // border-right: 1px solid @aside-border-color;
  height: 100%;
  overflow: auto;
  user-select: none;

  .ant-collapse-content-box {
    padding: 0;
  }

  .ant-collapse {
    border: 0;

    > .ant-collapse-item {
      border-color: @border-color;

      > .ant-collapse-header {
        padding: 7px 0 7px 40px;
      }

      > .ant-collapse-content {
        border-color: @border-color;
      }
    }
  }

  ul {
    padding: 5px;
    list-style: none;
    display: flex;
    margin-bottom: 0;
    flex-wrap: wrap;
    // background: #efefef;

    li {
      border-radius: 0;
      border: 0;
      box-shadow: 1px 0 0 0 @border-color, 0 1px 0 0 @border-color,
        1px 1px 0 0 @border-color, 1px 0 0 0 @border-color inset,
        0 1px 0 0 @border-color inset;
      padding: 8px 12px;
      transition: all 0.3s;
      width: calc(50% - 6px);
      margin: 2.7px;
      height: 36px;
      line-height: 20px;
      cursor: move;
      border: 1px solid transparent;
      border-radius: 3px;
      transition: all 0.3s;

      &:hover {
        color: @primary-color;
        border: 1px solid @primary-color;
        position: relative;
        z-index: 1;
        box-shadow: 0 2px 6px @primary-color;
      }
    }
  }
}

main {
  // 头部操作按钮区域
  .operating-area {
    border-bottom: 2px solid @border-color;
    font-size: 16px;
    text-align: left;
    height: @operating-area-height;
    line-height: @operating-area-height;
    padding: 0px 12px;
    display: flex;
    justify-content: space-between;
    align-content: center;

    a {
      color: #666;
      margin-left: 10px;

      &:hover {
        color: @primary-color;
      }

      > span {
        font-size: 14px;
        padding-left: 2px;
      }
    }
  }
  // 内容操作区域
  .form-panel {
    // height       : calc(100% - 50px);
    height: 100%;
    background: #eee;
    // border       : 1px solid #ccc;
    position: relative;

    &.no-toolbars-top {
      height: calc(100% - 50px);
    }

    > .hint-text {
      position: absolute;
      left: 0;
      top: 45%;
      width: 100%;
      text-align: center;
      font-size: 20px;
      color: #aaa;
      z-index: 16;
    }

    .a-form-box {
      height: 100%;
      // box-shadow: 0px 1px 5px 1px #ccc;
    }

    .draggable-box {
      height: 100%;
      overflow: auto;

      .list-main {
        min-height: 100%;
        padding: 5px;
        position: relative;
        background: #fafafa;
        // border    : 1px #ccc dashed;

        .moving {
          // 拖放移动中
          // outline-width: 0;
          min-height: 35px;
          box-sizing: border-box;
          overflow: hidden;
          padding: 0 !important;
          // margin       : 3px 0;
          position: relative;

          &::before {
            content: '';
            height: 5px;
            width: 100%;
            background: @primary-color;
            position: absolute;
            top: 0;
            right: 0;
          }
        }

        .drag-move-box {
          position: relative;
          box-sizing: border-box;
          padding: 8px;
          overflow: hidden;
          transition: all 0.3s;
          min-height: 36px;

          &:hover {
            background: @primary-hover-bg-color;
          }

          // 选择时 start
          &::before {
            content: '';
            height: 5px;
            width: 100%;
            background: @primary-color;
            position: absolute;
            top: 0;
            right: -100%;
            transition: all 0.3s;
          }

          &.active {
            &::before {
              right: 0;
            }

            background: @primary-hover-bg-color;
            outline-offset: 0;
          }

          // 选择时 end
          .form-item-box {
            position: relative;
            box-sizing: border-box;
            word-wrap: break-word;

            &::before {
              content: '';
              position: absolute;
              width: 100%;
              height: 100%;
              top: 0;
              left: 0;
              z-index: 888;
            }

            .ant-form-item {
              // 修改ant form-item的margin为padding
              margin: 0;
              padding-bottom: 6px;
            }
          }

          .show-key-box {
            // 显示key
            position: absolute;
            bottom: 2px;
            right: 5px;
            font-size: 14px;
            z-index: 999;
            color: @primary-color;
          }

          > .copy,
          > .delete {
            position: absolute;
            top: 0;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            color: #fff;
            z-index: 989;
            transition: all 0.3s;

            &.unactivated {
              opacity: 0 !important;
              pointer-events: none;
            }

            &.active {
              opacity: 1 !important;
            }
          }

          > .copy {
            border-radius: 0 0 0 8px;
            right: 30px;
            background: @primary-color;
          }

          > .delete {
            right: 0px;
            background: @primary-color;
          }
        }

        .grid-box,
        .table-box {
          position: relative;
          box-sizing: border-box;
          padding: 5px;
          background: @layout-background-color;
          width: 100%;
          transition: all 0.3s;
          overflow: hidden;

          .form-item-box {
            position: relative;
            box-sizing: border-box;

            .ant-form-item {
              // 修改ant form-item的margin为padding
              margin: 0;
              padding-bottom: 15px;
            }
          }

          .grid-row,
          .table-layout {
            background: @layout-background-color;

            .grid-col,
            .table-td {
              .draggable-box {
                min-height: 60px;
                min-width: 50px;
                border: 1px #ccc dashed;
                background: #fff;

                .list-main {
                  min-height: 60px;
                  position: relative;
                  border: 1px #ccc dashed;
                }
              }
            }
          }

          // 选择时 start
          &::before {
            content: '';
            height: 5px;
            width: 100%;
            background: transparent;
            position: absolute;
            top: 0;
            right: -100%;
            transition: all 0.3s;
          }

          &.active {
            &::before {
              background: @layout-color;
              right: 0;
            }

            background: @layout-hover-bg-color;
            outline-offset: 0;
          }

          > .copy,
          > .delete {
            position: absolute;
            top: 0px;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            color: #fff;
            z-index: 989;
            transition: all 0.3s;

            &.unactivated {
              opacity: 0 !important;
              pointer-events: none;
            }

            &.active {
              opacity: 1 !important;
            }
          }

          > .copy {
            border-radius: 0 0 0 8px;
            right: 30px;
            background: @layout-color;
          }

          > .delete {
            right: 0px;
            background: @layout-color;
          }
        }
      }
    }
  }
}

// iconfont 样式
.icon {
  width: 1em;
  height: 1em;
  vertical-align: -0.15em;
  fill: currentColor;
  overflow: hidden;
}
